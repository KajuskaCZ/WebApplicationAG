<div *ngIf="userStory" class="user-story pt-2 pb-2">
    <div class="user-story_main">
        <h3>
            <span (click)="expand(userStory)">{{userStory.name}}</span>
            <div class="user-story_buttons">
                <button type="button" class="btn btn-primary user-story_button-item"
                    (click)="update(userStory.id)">Update</button>
                <button type="button" class="btn btn-danger user-story_button-item"
                    (click)="delete(userStory.id)">Delete</button>
            </div>
        </h3>
        Remaining hours: {{userStory.hoursRemaining}}
        <div class="progress">
            <div class="progress-bar bg-info" role="progressbar" [style.width.%]="userStory.donePercent"
                aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">{{ userStory.donePercent }}% done</div>
        </div>
    </div>

    <div *ngIf="isExpanded">
        <ul class="list-group list-group-flush">
            <li *ngFor="let engineeringTask of userStory.engineeringTasks"
                class="list-group-item user-story_engineering-task">
                <app-engineering-task [engineeringTask]="engineeringTask"
                    (engineeringTaskUD)="getEngineeringTasks(userStory)">
                </app-engineering-task>
            </li>
        </ul>
    </div>
</div>